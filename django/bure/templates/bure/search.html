<!-- /bure/templates/bure/search.html -->

{% extends "bure/base.html" %}
{% load static %}

{% block content %}
<div class="estimate-container">
  <h1 style="margin: 10px;">Rent Estimate</h1>
  <p style="margin-bottom: 15px;">Enter your unit details and amenities to get an estimated monthly rent.</p>

  <form method="get" action="">

    <fieldset class="basic-fields">
        <legend>Location</legend>

        <div class="location-mode-toggle">
            <button type="button" class="mode-btn active" data-mode="list">List</button>
            <button type="button" class="mode-btn" data-mode="map">Map</button>
            <input type="hidden" name="location_mode" id="location_mode" value="list">
        </div>

        <div id="location-list-mode">

            <label>
              <input type="checkbox" name="locations" value="allston">
              Allston
            </label>
            <label>
              <input type="checkbox" name="locations" value="brighton">
              Brighton
            </label>
            <label>
              <input type="checkbox" name="locations" value="fenway">
              Fenway / Kenmore
            </label>
            <label>
              <input type="checkbox" name="locations" value="back_bay">
              Back Bay
            </label>
        </div>

        <div id="location-map-mode" style="display: none;">
            <p class="helper-text">
                Click one or more areas on the map to select locations.
            </p>

            <div id="location-map" class="map-container"></div>
            <!-- 
                map_toggle.js will inject html, for example:

                <input type="hidden" name="locations" value="allston">
            -->
            <div id="map-location-inputs"></div>
        </div>
    </fieldset>

    <fieldset class="basic-fields">
      <legend>Basic Info</legend>

      <label for="beds">Beds</label>
      <input
        type="number"
        name="beds"
        id="beds"
        min="0"
        step="1"
        required
      />

      <label for="baths">Baths</label>
      <input
        type="number"
        name="baths"
        id="baths"
        min="0"
        step="0.5"
        required
      />

      <label for="sqft">Square Feet</label>
      <input
        type="number"
        name="sqft"
        id="sqft"
        min="0"
        step="1"
        required
      />
    </fieldset>

    <fieldset class="amenities">
      <legend>Amenities</legend>

      <label>
        <input type="checkbox" name="Amenity_Concierge" value="1">
        Concierge
      </label>

      <label>
        <input type="checkbox" name="Amenity_A_24_Hour_Access" value="1">
        24 Hour Access
      </label>

      <label>
        <input type="checkbox" name="Amenity_Washer_Dryer" value="1">
        In-Unit Washer/Dryer
      </label>

      <label>
        <input type="checkbox" name="Amenity_Fitness_Center" value="1">
        Fitness Center
      </label>

      <label>
        <input type="checkbox" name="Amenity_Double_Vanities" value="1">
        Double Vanities
      </label>

      <label>
        <input type="checkbox" name="Amenity_Conference_Rooms" value="1">
        Conference Rooms
      </label>

      <label>
        <input type="checkbox" name="Amenity_Island_Kitchen" value="1">
        Island Kitchen
      </label>

      <label>
        <input type="checkbox" name="Amenity_Walk_In_Closets" value="1">
        Walk-In Closets
      </label>

      <label>
        <input type="checkbox" name="Amenity_Package_Service" value="1">
        Package Service
      </label>

      <label>
        <input type="checkbox" name="Amenity_On_Site_Retail" value="1">
        On-Site Retail
      </label>

      <label>
        <input type="checkbox" name="Amenity_Air_Conditioning" value="1">
        Air Conditioning
      </label>

      <label>
        <input type="checkbox" name="Amenity_Public_Transportation" value="1">
        Close to Public Transportation
      </label>

      <label>
        <input type="checkbox" name="Amenity_Bicycle_Storage" value="1">
        Bicycle Storage
      </label>

      <label>
        <input type="checkbox" name="Amenity_Elevator" value="1">
        Elevator
      </label>

      <label>
        <input type="checkbox" name="Amenity_EV_Charging" value="1">
        EV Charging
      </label>

      <label>
        <input type="checkbox" name="Amenity_Recycling" value="1">
        Recycling
      </label>

      <label>
        <input type="checkbox" name="Amenity_Views" value="1">
        View / City View
      </label>
    </fieldset>

    <button type="submit" class="btn-primary">Get Estimate</button>
  </form>
</div>

<style>
  .estimate-container {
    max-width: 700px;
    margin: 2rem auto;
    padding: 1.5rem;
  }

  form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  fieldset {
    border: 1px solid #ddd;
    padding: 1rem 1.25rem;
    border-radius: 8px;
  }

  legend {
    font-weight: 600;
    padding: 0 0.25rem;
  }

  .basic-fields label {
    display: block;
    margin-top: 0.75rem;
    font-weight: 500;
  }

  .basic-fields input[type="number"] {
    width: 100%;
    padding: 0.4rem 0.6rem;
    margin-top: 0.25rem;
  }

  .amenities {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 0.5rem 1rem;
  }

  .amenities label {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    font-size: 0.95rem;
  }

  .btn-primary {
    margin: 0 auto;
    font-size: 20px;
    max-width: 200px;
    padding: 0.6rem 1.2rem;
    border-radius: 15px;
    color: black;
    border: 2px solid rgba(0, 0, 0, 0.283);
    cursor: pointer;
    font-weight: 570;
    transition: all .3s ease-in-out;
  }

  .btn-primary:hover {
    text-decoration: none;
    background-color: #003366;
    border: 2px solid black;
    color: #ffffff;
  }



  .map-container {
    width: 100%;
    height: 320px;
    border-radius: 10px;
    overflow: hidden;
    border: 1px solid #ddd;
    margin-top: 0.5rem;
  }

  .location-mode-toggle {
    display: inline-flex;
    border-radius: 999px;
    border: 1px solid #ddd;
    overflow: hidden;
    margin-bottom: 0.75rem;
  }

  .location-mode-toggle .mode-btn {
    padding: 0.3rem 0.9rem;
    border: none;
    background: transparent;
    font-size: 0.9rem;
    cursor: pointer;
  }

  .location-mode-toggle .mode-btn.active {
    background: #f4f4f4;
    font-weight: 600;
  }

  .helper-text {
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 0.4rem;
  }

</style>

{% endblock %}
